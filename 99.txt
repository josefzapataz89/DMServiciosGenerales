-- Generated by Oracle SQL Developer Data Modeler Version: 2.0.0 Build: 584
--   at:        2013-03-08 22:44:48
--   site:      Oracle Database 10g
--   type:      Oracle Database 10g



CREATE TABLE ADMINIS 
    ( 
     NAC VARCHAR2(40) , 
     CED VARCHAR2(40)  NOT NULL , 
     INFA_CTR_ID_CENTRO VARCHAR2(40) , 
     INFA_CTR_ANO_FISCAL VARCHAR2(40) , 
     INFA_PERN_TIPN_CODIGO VARCHAR2(40) , 
     CENTRO_COSTOS_CTR_ID_CENTRO VARCHAR2(40) 
    ) 
;



ALTER TABLE ADMINIS 
    ADD CONSTRAINT ADMINIS_PK PRIMARY KEY ( CED ) ;


CREATE TABLE ASIG_PERSONAL 
    ( 
     FMO_CODIGO VARCHAR2(40) , 
     SVO_CODIGO VARCHAR2(40) , 
     INFA_NACIONALIDAD VARCHAR2(40) , 
     INFA_CEDULA VARCHAR2(40)  NOT NULL , 
     INFA_PERN_TIPN_CODIGO VARCHAR2(40) , 
     APL_PERSONALSUGERIDO VARCHAR2(40) , 
     APL_PEROSNALUSADO VARCHAR2(40) , 
     SDS_SERVICIOS_SVO_CODIGO VARCHAR2(40) 
    ) 
;



ALTER TABLE ASIG_PERSONAL 
    ADD CONSTRAINT ASIG_PERSONAL_PK PRIMARY KEY ( INFA_CEDULA ) ;


CREATE TABLE ITEMS 
    ( 
     FMO_CODIGO VARCHAR2(40) , 
     SVO_CODIGO VARCHAR2(40) , 
     LCD_CODIGO VARCHAR2(40) , 
     ITM_OBSERVACION VARCHAR2(40) 
    ) 
;




CREATE TABLE SDS_ASIGNACIONES_TAREAS_ATA 
    ( 
     SVO_CODIGO VARCHAR2(40) , 
     MTL_CODIGO VARCHAR2(40) , 
     ATA_CANTIDAD VARCHAR2(40) 
    ) 
;




CREATE TABLE SDS_ASIG_MATERIAL_AML 
    ( 
     FMO_CODIGO VARCHAR2(40) , 
     SVO_CODIGO VARCHAR2(40) , 
     MTL_CODIGO VARCHAR2(40) , 
     AML_CANTIDADESTIMADA VARCHAR2(40) , 
     AML_CANTIDADUSADA VARCHAR2(40) 
    ) 
;




CREATE TABLE SDS_EDIFICIOS_EDO 
    ( 
     EDO_CODIGO VARCHAR2(40)  NOT NULL , 
     EDO_NOMBRE VARCHAR2(40) 
    ) 
;



ALTER TABLE SDS_EDIFICIOS_EDO 
    ADD CONSTRAINT EDIFICIOS_PK PRIMARY KEY ( EDO_CODIGO ) ;


CREATE TABLE SDS_ESTATUS_ETU 
    ( 
     ETU_CODIGO VARCHAR2(40)  NOT NULL , 
     ETU_NOMBRE VARCHAR2(40) , 
     ETU_DESCRIPCION VARCHAR2(40) 
    ) 
;



ALTER TABLE SDS_ESTATUS_ETU 
    ADD CONSTRAINT ESTATUS_PK PRIMARY KEY ( ETU_CODIGO ) ;


CREATE TABLE SDS_FORMATOS_FMO 
    ( 
     FMO_CODIGO VARCHAR2(40)  NOT NULL , 
     JEF_INFA_PERN_TIPN_CODIGO VARCHAR2(40) , 
     JEF_INFA_NACIONALIDAD VARCHAR2(40) , 
     JEF_INFA_CED VARCHAR2(40)  NOT NULL , 
     JEF_INFA_CTR_ID_CENTRO VARCHAR2(40) , 
     JEF_INFA_CTR_ANO_FISCAL VARCHAR2(40) , 
     FMO_FECHA DATE , 
     JEF_FECHA_INI DATE 
    ) 
;



ALTER TABLE SDS_FORMATOS_FMO 
    ADD CONSTRAINT SDS_FORMATOS_FMO_PK PRIMARY KEY ( FMO_CODIGO ) ;


CREATE TABLE SDS_HISTORICO_ITEMS_HIS 
    ( 
     FMO_CODIGO VARCHAR2(40) , 
     SVO_CODIGO VARCHAR2(40) , 
     ETU_CODIGO VARCHAR2(40) , 
     HIS_FECHA_INICIO DATE , 
     HIS_OBSERVACION VARCHAR2(40) , 
     HIS_FECHA_FIN DATE 
    ) 
;




CREATE TABLE SDS_JEFE_JEF 
    ( 
     CARGO VARCHAR2(40) , 
     JEF_CTR_ANO_FISCAL VARCHAR2(40) , 
     JEF_CTR_ID_CENTRO VARCHAR2(40) , 
     JEF_FECHA_FIN DATE , 
     JEF_FECHA_INI DATE , 
     JEF_INFA_CTR_ANO_FISCAL VARCHAR2(40) , 
     JEF_INFA_CTR_ID_CENTRO VARCHAR2(40) , 
     TIPO VARCHAR2(40) , 
     NAC VARCHAR2(40) , 
     CED VARCHAR2(40)  NOT NULL 
    ) 
;



ALTER TABLE SDS_JEFE_JEF 
    ADD CONSTRAINT SDS_JEFE_JEF_PK PRIMARY KEY ( CED ) ;


CREATE TABLE SDS_LOCALIDADES_LCD 
    ( 
     LCD_CODIGO VARCHAR2(40)  NOT NULL , 
     CTR_ANO_FISCAL VARCHAR2(40) , 
     CTR_ID_CENTRO VARCHAR2(40) , 
     PSO_CODIGO VARCHAR2(40) , 
     EDO_CODIGO VARCHAR2(40) , 
     LCD_NOMBRE VARCHAR2(40) 
    ) 
;



ALTER TABLE SDS_LOCALIDADES_LCD 
    ADD CONSTRAINT SDS_LOCALIDADES_LCD_PK PRIMARY KEY ( LCD_CODIGO ) ;


CREATE TABLE SDS_MATERIALES_MTL 
    ( 
     MTL_CODIGO VARCHAR2(40)  NOT NULL , 
     TML_CODIGO VARCHAR2(40) , 
     MTL_NOMBRE VARCHAR2(40) , 
     MTL_CANTIDAD VARCHAR2(40)
    ) 
;



ALTER TABLE SDS_MATERIALES_MTL 
    ADD CONSTRAINT SDS_MATERIALES_MTL_PK PRIMARY KEY ( MTL_CODIGO ) ;


CREATE TABLE SDS_ORDEN_PRORIDAD_OPA 
    ( 
     OPA_CODIGO VARCHAR2(40)  NOT NULL , 
     OPA_NOMBRE VARCHAR2(40) 
    ) 
;



ALTER TABLE SDS_ORDEN_PRORIDAD_OPA 
    ADD CONSTRAINT SDS_ORDEN_PRORIDAD_OPA_PK PRIMARY KEY ( OPA_CODIGO ) ;


CREATE TABLE SDS_PERSONAS_PER 
    ( 
     NACIONALIDAD VARCHAR2(40) , 
     CEDULA VARCHAR2(40)  NOT NULL , 
     SEXO VARCHAR2(40) , 
     NOMBRE VARCHAR2(40) , 
     APELLIDO VARCHAR2(40)
    ) 
;



ALTER TABLE SDS_PERSONAS_PER 
    ADD CONSTRAINT PERSONAS_PK PRIMARY KEY ( CEDULA ) ;


CREATE TABLE SDS_PISOS_PSO 
    ( 
     PSO_CODIGO VARCHAR2(40)  NOT NULL , 
     PSO_NOMBRE VARCHAR2(40) 
    ) 
;



ALTER TABLE SDS_PISOS_PSO 
    ADD CONSTRAINT SDS_PISOS_PSO_PK PRIMARY KEY ( PSO_CODIGO ) ;


CREATE TABLE SDS_SERVICIOS_SVO 
    ( 
     SVO_CODIGO VARCHAR2(40)  NOT NULL , 
     TSO_CODIGO VARCHAR2(40) , 
     SVO_NOMBRE VARCHAR2(40) , 
     SVO_DESCRIPCION VARCHAR2(40) , 
     TIPO_SERVICIOS_TSO_CODIGO VARCHAR2(40) 
    ) 
;



ALTER TABLE SDS_SERVICIOS_SVO 
    ADD CONSTRAINT SDS_SERVICIOS_SVO_PK PRIMARY KEY ( SVO_CODIGO ) ;


CREATE TABLE SDS_TIPO_MATERIALES_TML 
    ( 
     TML_CODIGO VARCHAR2(40)  NOT NULL , 
     TML_NOMBRE VARCHAR2(40) , 
     TML_DESCRIPCION VARCHAR2(40) 
    ) 
;



ALTER TABLE SDS_TIPO_MATERIALES_TML 
    ADD CONSTRAINT SDS_TIPO_MATERIALES_TML_PK PRIMARY KEY ( TML_CODIGO ) ;


CREATE TABLE SDS_TIPO_SERVICIOS_TSO 
    ( 
     TSO_CODIGO VARCHAR2(40)  NOT NULL , 
     OPA_CODIGO VARCHAR2(40) , 
     TSO_NOMBRE VARCHAR2(40) , 
     TSO_DSCRIPCION VARCHAR2(40) 
    ) 
;



ALTER TABLE SDS_TIPO_SERVICIOS_TSO 
    ADD CONSTRAINT SDS_TIPO_SERVICIOS_TSO_PK PRIMARY KEY ( TSO_CODIGO ) ;


CREATE TABLE SIF_CENTRO_COSTOS 
    ( 
     CTR_ANO_FISCAL VARCHAR2(40) , 
     CTR_ID_CENTRO VARCHAR2(40)  NOT NULL , 
     CTR_DESCRIPCION VARCHAR2(50) , 
     CTR_SUB_CODIGO VARCHAR2(40) , 
     CTR_UBICACION VARCHAR2(40) , 
     CTR_TELEFONO1 VARCHAR2(40) , 
     CTR_TELEFONO2 VARCHAR2(40) , 
     CTR_CORREO_ELECT VARCHAR2(40) , 
     CTR_CREADO_POR VARCHAR2(40) , 
     CTR_MODIFICADO_POR VARCHAR2(40) , 
     CTR_FECHA_UPDATE VARCHAR2(40)
    ) 
;



ALTER TABLE SIF_CENTRO_COSTOS 
    ADD CONSTRAINT SIF_CENTRO_COSTOS_PK PRIMARY KEY ( CTR_ID_CENTRO ) ;



ALTER TABLE ADMINIS 
    ADD CONSTRAINT CENTRO_COSTOS_FK FOREIGN KEY 
    ( 
     CENTRO_COSTOS_CTR_ID_CENTRO
    ) 
    REFERENCES SIF_CENTRO_COSTOS 
    ( 
     CTR_ID_CENTRO
    ) 
;



--  ERROR: FK name length exceeds maximum allowed length(30) 
ALTER TABLE ASIG_PERSONAL 
    ADD CONSTRAINT ASIG_PERSONAL_SDS_SERVICIOS_SVO_FK FOREIGN KEY 
    ( 
     SDS_SERVICIOS_SVO_CODIGO
    ) 
    REFERENCES SDS_SERVICIOS_SVO 
    ( 
     SVO_CODIGO
    ) 
;


ALTER TABLE ITEMS 
    ADD CONSTRAINT ITEMS_SDS_FORMATOS_FMO_FK FOREIGN KEY 
    ( 
     FMO_CODIGO
    ) 
    REFERENCES SDS_FORMATOS_FMO 
    ( 
     FMO_CODIGO
    ) 
;


ALTER TABLE ITEMS 
    ADD CONSTRAINT ITEMS_SDS_LOCALIDADES_LCD_FK FOREIGN KEY 
    ( 
     LCD_CODIGO
    ) 
    REFERENCES SDS_LOCALIDADES_LCD 
    ( 
     LCD_CODIGO
    ) 
;


ALTER TABLE ITEMS 
    ADD CONSTRAINT SERVICIOS_SVO_FK FOREIGN KEY 
    ( 
     SVO_CODIGO
    ) 
    REFERENCES SDS_SERVICIOS_SVO 
    ( 
     SVO_CODIGO
    ) 
;



--  ERROR: FK name length exceeds maximum allowed length(30) 
ALTER TABLE SDS_ASIGNACIONES_TAREAS_ATA 
    ADD CONSTRAINT ASIGNACIONES_TAREAS_FK FOREIGN KEY 
    ( 
     MTL_CODIGO
    ) 
    REFERENCES SDS_MATERIALES_MTL 
    ( 
     MTL_CODIGO
    ) 
;



--  ERROR: FK name length exceeds maximum allowed length(30) 
ALTER TABLE SDS_ASIGNACIONES_TAREAS_ATA 
    ADD CONSTRAINT SERVICIOS_SVO_FK FOREIGN KEY 
    ( 
     SVO_CODIGO
    ) 
    REFERENCES SDS_SERVICIOS_SVO 
    ( 
     SVO_CODIGO
    ) 
;



--  ERROR: FK name length exceeds maximum allowed length(30) 
ALTER TABLE SDS_ASIG_MATERIAL_AML 
    ADD CONSTRAINT FORMATOS_FMO_FK FOREIGN KEY 
    ( 
     FMO_CODIGO
    ) 
    REFERENCES SDS_FORMATOS_FMO 
    ( 
     FMO_CODIGO
    ) 
;



--  ERROR: FK name length exceeds maximum allowed length(30) 
ALTER TABLE SDS_ASIG_MATERIAL_AML 
    ADD CONSTRAINT MATERIALES_MTL_FK FOREIGN KEY 
    ( 
     MTL_CODIGO
    ) 
    REFERENCES SDS_MATERIALES_MTL 
    ( 
     MTL_CODIGO
    ) 
;



--  ERROR: FK name length exceeds maximum allowed length(30) 
ALTER TABLE SDS_ASIG_MATERIAL_AML 
    ADD CONSTRAINT SERVICIOS_SVO_FK FOREIGN KEY 
    ( 
     SVO_CODIGO
    ) 
    REFERENCES SDS_SERVICIOS_SVO 
    ( 
     SVO_CODIGO
    ) 
;



--  ERROR: FK name length exceeds maximum allowed length(30) 
ALTER TABLE SDS_FORMATOS_FMO 
    ADD CONSTRAINT JEFE_JEF_FK FOREIGN KEY 
    ( 
     JEF_INFA_CED
    ) 
    REFERENCES SDS_JEFE_JEF 
    ( 
     CED
    ) 
;



--  ERROR: FK name length exceeds maximum allowed length(30) 
ALTER TABLE SDS_HISTORICO_ITEMS_HIS 
    ADD CONSTRAINT ESTATUS_ETU_FK FOREIGN KEY 
    ( 
     ETU_CODIGO
    ) 
    REFERENCES SDS_ESTATUS_ETU 
    ( 
     ETU_CODIGO
    ) 
;



--  ERROR: FK name length exceeds maximum allowed length(30) 
ALTER TABLE SDS_HISTORICO_ITEMS_HIS 
    ADD CONSTRAINT FORMATOS_FMO_FK FOREIGN KEY 
    ( 
     FMO_CODIGO
    ) 
    REFERENCES SDS_FORMATOS_FMO 
    ( 
     FMO_CODIGO
    ) 
;



--  ERROR: FK name length exceeds maximum allowed length(30) 
ALTER TABLE SDS_HISTORICO_ITEMS_HIS 
    ADD CONSTRAINT SERVICIOS_SVO_FK FOREIGN KEY 
    ( 
     SVO_CODIGO
    ) 
    REFERENCES SDS_SERVICIOS_SVO 
    ( 
     SVO_CODIGO
    ) 
;



--  ERROR: FK name length exceeds maximum allowed length(30) 
ALTER TABLE SDS_JEFE_JEF 
    ADD CONSTRAINT PERSONAS_PER_FK FOREIGN KEY 
    ( 
     CED
    ) 
    REFERENCES SDS_PERSONAS_PER 
    ( 
     CEDULA
    ) 
;



--  ERROR: FK name length exceeds maximum allowed length(30) 
ALTER TABLE SDS_JEFE_JEF 
    ADD CONSTRAINT CENTRO_COSTOS_FK FOREIGN KEY 
    ( 
     JEF_CTR_ID_CENTRO
    ) 
    REFERENCES SIF_CENTRO_COSTOS 
    ( 
     CTR_ID_CENTRO
    ) 
;



--  ERROR: FK name length exceeds maximum allowed length(30) 
ALTER TABLE SDS_LOCALIDADES_LCD 
    ADD CONSTRAINT EDIFICIOS_FK FOREIGN KEY 
    ( 
     EDO_CODIGO
    ) 
    REFERENCES SDS_EDIFICIOS_EDO 
    ( 
     EDO_CODIGO
    ) 
;



--  ERROR: FK name length exceeds maximum allowed length(30) 
ALTER TABLE SDS_LOCALIDADES_LCD 
    ADD CONSTRAINT PISOS_PSO_FK FOREIGN KEY 
    ( 
     PSO_CODIGO
    ) 
    REFERENCES SDS_PISOS_PSO 
    ( 
     PSO_CODIGO
    ) 
;



--  ERROR: FK name length exceeds maximum allowed length(30) 
ALTER TABLE SDS_LOCALIDADES_LCD 
    ADD CONSTRAINT CENTRO_COSTOS_FK FOREIGN KEY 
    ( 
     CTR_ID_CENTRO
    ) 
    REFERENCES SIF_CENTRO_COSTOS 
    ( 
     CTR_ID_CENTRO
    ) 
;



--  ERROR: FK name length exceeds maximum allowed length(30) 
ALTER TABLE SDS_MATERIALES_MTL 
    ADD CONSTRAINT TIPO_MATERIALES_FK FOREIGN KEY 
    ( 
     TML_CODIGO
    ) 
    REFERENCES SDS_TIPO_MATERIALES_TML 
    ( 
     TML_CODIGO
    ) 
;



--  ERROR: FK name length exceeds maximum allowed length(30) 
ALTER TABLE SDS_SERVICIOS_SVO 
    ADD CONSTRAINT SERVICIOS_TSO_FK FOREIGN KEY 
    ( 
     TIPO_SERVICIOS_TSO_CODIGO
    ) 
    REFERENCES SDS_TIPO_SERVICIOS_TSO 
    ( 
     TSO_CODIGO
    ) 
;



--  ERROR: FK name length exceeds maximum allowed length(30) 
ALTER TABLE SERVICIOS_TSO 
    ADD CONSTRAINT PRORIDAD_OPA_FK FOREIGN KEY 
    ( 
     OPA_CODIGO
    ) 
    REFERENCES SDS_ORDEN_PRORIDAD_OPA 
    ( 
     OPA_CODIGO
    ) 
;


    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    

CREATE OR REPLACE TRIGGER FKNTO_SDS_JEFE_JEF 
BEFORE UPDATE OF JEF_CTR_ID_CENTRO 
ON SDS_JEFE_JEF 
FOR EACH ROW 
BEGIN 
 IF :old.JEF_CTR_ID_CENTRO IS NOT NULL THEN 
  raise_application_error(-20225,'None Transferable FK constraint on table SDS_JEFE_JEF is violated'); 
 END IF; 
END; 
/

-- Oracle SQL Developer Data Modeler Summary Report: 
-- 
-- CREATE TABLE                            19
-- CREATE INDEX                             0
-- ALTER TABLE                             37
-- CREATE VIEW                              0
-- CREATE PROCEDURE                         0
-- CREATE TRIGGER                           0
-- CREATE STRUCTURED TYPE                   0
-- CREATE COLLECTION TYPE                   0
-- CREATE CLUSTER                           0
-- CREATE CONTEXT                           0
-- CREATE DATABASE                          0
-- CREATE DIMENSION                         0
-- CREATE DIRECTORY                         0
-- CREATE DISK GROUP                        0
-- CREATE ROLE                              0
-- CREATE ROLLBACK SEGMENT                  0
-- CREATE SEQUENCE                          0
-- CREATE SNAPSHOT                          0
-- CREATE SYNONYM                           0
-- CREATE TABLESPACE                        0
-- CREATE USER                              0
-- 
-- DROP TABLESPACE                          0
-- DROP DATABASE                            0
-- 
-- ERRORS                                  18
-- WARNINGS                                 0
